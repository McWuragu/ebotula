Name:    ebotula
Summary: ebotula - IRC bot
Version: @VERSION@
Release: 1
Copyright: GPL
Source: http://lux.fh-lausitz.de/~slaube/develop/%{name}-%{PACKAGE_VERSION}.tar.gz
Source0: %{name}-%{PACKAGE_VERSION}.tar.gz
Packager: Steffen Laube <Laube.Steffen@gmx.de>
Group: Applications/Communication
Requires: gdbm => 1.8.0
BuildRoot: /tmp/%{name}-root
URL: http://www.lugse.de
Prefix: /usr/local
Docdir: %{prefix}/doc

%description
Ebotula is an irc bot for general tasks in one or more channels. These
tasks are the administration of users and channels. The bot can save the channel
topic and modes. Also the modes of the user are set and saved by the bot.

%prep
rm -rf $RPM_BUILD_ROOT
%setup -q

%build
CFLAGS="${RPM_OPT_FLAGS}" ./configure --prefix=%{prefix}
make

%install
rm -rf $RPM_BUILD_ROOT
mkdir -p $RPM_BUILD_ROOT%{prefix}/var/ebotula
make DESTDIR=$RPM_BUILD_ROOT  install

%post

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%doc AUTHORS COPYING ChangeLog INSTALL NEWS README TODO

%{prefix}/bin/*
%{prefix}/man/man1/*
%{prefix}/man/man5/*
%config %{prefix}/etc/ebotula/*
%dir %{prefix}/var/ebotula/

%changelog
* Wed Sep 24 2003 Steffen Laube <Laube.Steffen@gmx.de>
- Bugfix: fixed the bug by the access level controlling
- Bugfix: fixed the command !hello
- modified the dialog for the creation of a master

* Thu Sep 18 2003 Steffen Laube <Laube.Steffen@gmx.de>
- Bugfix: fixed SIGSEGV from the commands !addchannel and !join
- Bugfix: fixed mode event handle
- Bugfix: fixed online help message
- Bugfix: fixed the crash after mode change from other user as the bot
- Bugfix: fixed the command online help for !ban
- added the parameter user and group
- added the option -u and -g
- added the creating of the  direction ~/.ebotula for the user mode
- added the changing of the uid and gid for the root mode
- added the configuration file generator for the users and  root
- completed the default values


